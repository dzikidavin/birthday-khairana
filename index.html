<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday, Khairana üéâ</title>
<style>
body {
  margin:0; overflow:hidden; font-family: 'Courier New', monospace;
  background: linear-gradient(120deg,#ffd6e8,#ffecc7,#dbeafe);
  background-size:300% 300%; animation:bgMove 15s ease infinite;
}
@keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

#startScreen {
  position:absolute;top:0;left:0;width:100%;height:100%;
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  background: rgba(255,255,255,0.95);backdrop-filter: blur(12px);text-align:center; z-index:100;
}
#startScreen button {
  padding:14px 28px;font-size:18px;border:none;border-radius:22px;
  background:#6a6eff;color:white;cursor:pointer;margin-top:20px;
}
#startScreen button:hover{transform:scale(1.05)}

#gameContainer{position:relative;width:100vw;height:100vh;overflow:hidden;}
.item{
  position:absolute; font-size:28px; cursor:pointer; user-select:none; z-index:40;
  transition: transform 0.1s linear;
}
#scoreboard{position:absolute;top:10px;left:50%;transform:translateX(-50%);font-size:20px;font-weight:bold;color:#6a6eff;z-index:50;}
#message{position:absolute;bottom:110px;left:50%;transform:translateX(-50%);font-size:18px;color:#6a6eff;font-weight:bold;opacity:0;transition:opacity 0.3s ease;z-index:50;}

#cakeContainer{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;animation:bounce 1s ease infinite alternate;z-index:60;}
@keyframes bounce{from{transform:translate(-50%,-50%) scale(1)}to{transform:translate(-50%,-52%) scale(1.07)}}
#cake{font-size:80px;cursor:pointer;position:relative;}
.flame{position:absolute;top:-25px;left:50%;transform:translateX(-50%);font-size:20px;animation:flicker 0.24s infinite alternate;}
@keyframes flicker{from{transform:translateX(-50%) scaleY(1);opacity:1}to{transform:translateX(-50%) scaleY(1.25);opacity:0.8}}

#victory{display:none;width:90%;max-width:420px;background:rgba(255,255,255,0.96);padding:28px;border-radius:20px;backdrop-filter:blur(10px);text-align:center;font-size:18px;color:#333;animation:fadeIn 1s ease;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:100;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1}}

.confetti{position:absolute;width:8px;height:8px;pointer-events:none;animation:fall 2s linear infinite;}
@keyframes fall{to{transform:translateY(100vh) rotate(360deg);opacity:0}}
</style>
</head>
<body>
<div id="gameContainer">

  <!-- Start Screen -->
  <div id="startScreen">
    <h1>Happy Birthday, Khairana! üéâ</h1>
    <p>Click Start to play your mini birthday game!</p>
    <button id="startBtn">Start!</button>
  </div>

  <!-- Scoreboard -->
  <div id="scoreboard">Collected: 0 / 15</div>
  <div id="message">‚ú® Nice!</div>

  <!-- Cake -->
  <div id="cakeContainer">
    <div id="cake">üéÇ<div class="flame">üî•</div></div>
    <p>Click the cake to make a wish!</p>
  </div>

  <!-- Birthday Message -->
  <div id="victory">
    <p>I‚Äôm not great at writing things like this,<br>
    but I didn‚Äôt want your birthday to pass without me saying something properly.</p>
    <p>I really enjoy talking to you,<br>and I like the person you are.<br>That‚Äôs honestly it üòè</p>
    <p>I hope being 22 brings you<br>good days, calm moments,<br>and things that make you happy<br>without trying too hard.</p>
    <p>Happy birthday, Khairana ü§ç<br>Have an amazing one!</p>
  </div>

</div>

<!-- Audio -->
<audio id="bgMusic" src="https://opengameart.org/sites/default/files/8-bit-happy-loop.ogg" loop></audio>
<audio id="collectSound" src="https://opengameart.org/sites/default/files/coin.ogg"></audio>
<audio id="blowSound" src="https://pixabay.com/sound-effects/blow-out-the-candle-381892/"></audio>

<script>
// Elements
const startBtn = document.getElementById('startBtn');
const startScreen = document.getElementById('startScreen');
const container = document.getElementById('gameContainer');
const scoreboard = document.getElementById('scoreboard');
const message = document.getElementById('message');
const cakeContainer = document.getElementById('cakeContainer');
const cake = document.getElementById('cake');
const flame = cake.querySelector('.flame');
const victory = document.getElementById('victory');

const bgMusic = document.getElementById('bgMusic');
const collectSound = document.getElementById('collectSound');
const blowSound = document.getElementById('blowSound');

// Game variables
let collected = 0;
const totalItems = 15;
const itemsArray = ["üíñ","‚ú®","üå∏","‚≠ê","üéà","üí´","üå∑"];
const itemElements = [];

// Start game
startBtn.onclick=()=>{
  startScreen.style.display='none';
  bgMusic.volume=0.08; bgMusic.play();
  spawnItems();
  requestAnimationFrame(gameLoop);
};

// Spawn moving items
function spawnItems(){
  for(let i=0;i<totalItems;i++){
    const itm=document.createElement('div');
    itm.className='item';
    itm.innerText=itemsArray[Math.floor(Math.random()* itemsArray.length)];
    itm.style.left=Math.random()*(window.innerWidth-40)+'px';
    itm.style.top=Math.random()*(window.innerHeight-200)+'px';
    itm.dataset.vx=(Math.random()*2-1)*2; // horizontal speed
    itm.dataset.vy=(Math.random()*2-1)*2; // vertical speed
    container.appendChild(itm);
    itemElements.push(itm);

    itm.onclick = ()=>{
      collected++;
      scoreboard.innerText=`Collected: ${collected} / ${totalItems}`;
      message.style.opacity=1;
      setTimeout(()=>message.style.opacity=0,900);
      collectSound.currentTime=0; collectSound.play();

      // Confetti
      for(let j=0;j<12;j++){
        const conf=document.createElement('div');
        conf.className='confetti';
        conf.style.left=(parseFloat(itm.style.left)+Math.random()*30)+'px';
        conf.style.top=(parseFloat(itm.style.top)+Math.random()*30)+'px';
        conf.style.background=['#6a6eff','#ffe066','#ffd6e8','#dbeafe'][Math.floor(Math.random()*4)];
        container.appendChild(conf);
        setTimeout(()=>conf.remove(),2000);
      }

      itm.remove();
      if(collected>=totalItems) cakeContainer.style.display='block';
    };
  }
}

// Game loop - move items
function gameLoop(){
  itemElements.forEach(itm=>{
    if(!itm.parentElement) return;
    let x = parseFloat(itm.style.left);
    let y = parseFloat(itm.style.top);
    let vx = parseFloat(itm.dataset.vx);
    let vy = parseFloat(itm.dataset.vy);

    x += vx; y += vy;
    if(x<0||x>window.innerWidth-40) vx*=-1;
    if(y<0||y>window.innerHeight-100) vy*=-1;

    itm.style.left = x+'px';
    itm.style.top = y+'px';
    itm.dataset.vx = vx;
    itm.dataset.vy = vy;
  });
  requestAnimationFrame(gameLoop);
}

// Cake click
cake.onclick=()=>{
  flame.style.display='none';
  blowSound.volume=0.4; blowSound.play();
  setTimeout(()=>{
    cakeContainer.style.display='none';
    victory.style.display='block';
  },500);
};
</script>
</body>
</html>
